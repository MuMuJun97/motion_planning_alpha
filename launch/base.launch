<?xml version="1.0" encoding="utf-8"?>

<launch>
  <!-- Carla-ROS bridge -->
  <include file="$(find carla_ros_bridge)/client.launch"  pass_all_args="True"/>

  <param name ="/use_sim_time" value="true"/>
  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find carla_ros_bridge)/config/carla_default_rviz.cfg.rviz"/>

  <!-- Obstacle SIMPLE -->
  <node pkg="simple" name="grid_test" type="grid_test" />
  
  <!-- Global planner -->
  <node pkg="global_planner" name="global_planner" type="planner.py" output="screen"/>

  <!-- Controller -->
  <node pkg="autopilot_controller" name="autopilot_controller" type="AX7controller" output="screen"/>
  
  <!-- Map server -->
  <node pkg="autopilot_map_server" type="map_server" name="route_map" output="screen">
    <param name="map_path" type="string" value="$(find autopilot_map_server)/map/carla_map/town01"/>
  </node>

</launch>
